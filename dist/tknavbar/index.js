var MainChannel, MessageChannel, NavbarApp, NavbarChannel;

import $ from 'jquery';

import Backbone from 'backbone';

import Marionette from 'backbone.marionette';

import Toolkit from 'marionette.toolkit';

import tc from 'teacup';

import './dbchannel';

import NavbarHeaderView from './navbar-header';

import NavbarEntriesView from './entries';

import BootstrapNavBarView from './main-view';

if (__useCssModules__) {
  require("../../sass/tknavbar.scss");
}

MainChannel = Backbone.Radio.channel('global');

NavbarChannel = Backbone.Radio.channel('navbar');

MessageChannel = Backbone.Radio.channel('messages');

NavbarApp = class NavbarApp extends Toolkit.App {
  initialize(options) {
    var appConfig, layout;
    appConfig = this.getOption('appConfig');
    layout = new BootstrapNavBarView({
      model: new Backbone.Model(appConfig)
    });
    this.showView(layout);
    if (__DEV__) {
      return this._nbview = layout;
    }
  }

  onStart() {
    var cfg;
    // FIXME: @getView() returns root layout view
    cfg = MainChannel.request('main:app:config');
    NavbarChannel.request('clear-entries', 'site');
    return NavbarChannel.request('add-entries', cfg.navbarEntries, 'site');
  }

};

export default NavbarApp;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGtuYXZiYXIvaW5kZXguanMiLCJzb3VyY2VzIjpbInRrbmF2YmFyL2luZGV4LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLFdBQUEsRUFBQSxjQUFBLEVBQUEsU0FBQSxFQUFBOztBQUFBLE9BQU8sQ0FBUCxNQUFBOztBQUNBLE9BQU8sUUFBUCxNQUFBOztBQUNBLE9BQU8sVUFBUCxNQUFBOztBQUNBLE9BQU8sT0FBUCxNQUFBOztBQUNBLE9BQU8sRUFBUCxNQUFBOztBQUVBLE9BQUE7O0FBQ0EsT0FBTyxnQkFBUCxNQUFBOztBQUNBLE9BQU8saUJBQVAsTUFBQTs7QUFDQSxPQUFPLG1CQUFQLE1BQUE7O0FBRUEsSUFBRyxpQkFBSDtFQUNFLE9BQUEsQ0FBUSwwQkFBUixFQURGOzs7QUFHQSxXQUFBLEdBQWMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFmLENBQXVCLFFBQXZCOztBQUNkLGFBQUEsR0FBZ0IsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFmLENBQXVCLFFBQXZCOztBQUNoQixjQUFBLEdBQWlCLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBZixDQUF1QixVQUF2Qjs7QUFFWCxZQUFOLE1BQUEsVUFBQSxRQUF3QixPQUFPLENBQUMsSUFBaEM7RUFDRSxVQUFZLENBQUMsT0FBRCxDQUFBO0FBQ1YsUUFBQSxTQUFBLEVBQUE7SUFBQSxTQUFBLEdBQVksSUFBQyxDQUFBLFNBQUQsQ0FBVyxXQUFYO0lBQ1osTUFBQSxHQUFTLElBQUksbUJBQUosQ0FDUDtNQUFBLEtBQUEsRUFBTyxJQUFJLFFBQVEsQ0FBQyxLQUFiLENBQW1CLFNBQW5CO0lBQVAsQ0FETztJQUVULElBQUMsQ0FBQSxRQUFELENBQVUsTUFBVjtJQUNBLElBQUcsT0FBSDthQUNFLElBQUMsQ0FBQSxPQUFELEdBQVcsT0FEYjs7RUFMVTs7RUFRWixPQUFTLENBQUEsQ0FBQTtBQUVQLFFBQUEsR0FBQTs7SUFBQSxHQUFBLEdBQU0sV0FBVyxDQUFDLE9BQVosQ0FBb0IsaUJBQXBCO0lBQ04sYUFBYSxDQUFDLE9BQWQsQ0FBc0IsZUFBdEIsRUFBdUMsTUFBdkM7V0FDQSxhQUFhLENBQUMsT0FBZCxDQUFzQixhQUF0QixFQUFxQyxHQUFHLENBQUMsYUFBekMsRUFBd0QsTUFBeEQ7RUFKTzs7QUFUWDs7QUFlQSxPQUFBLFFBQWUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknXG5pbXBvcnQgQmFja2JvbmUgZnJvbSAnYmFja2JvbmUnXG5pbXBvcnQgTWFyaW9uZXR0ZSBmcm9tICdiYWNrYm9uZS5tYXJpb25ldHRlJ1xuaW1wb3J0IFRvb2xraXQgZnJvbSAnbWFyaW9uZXR0ZS50b29sa2l0J1xuaW1wb3J0IHRjIGZyb20gJ3RlYWN1cCdcblxuaW1wb3J0ICcuL2RiY2hhbm5lbCdcbmltcG9ydCBOYXZiYXJIZWFkZXJWaWV3IGZyb20gJy4vbmF2YmFyLWhlYWRlcidcbmltcG9ydCBOYXZiYXJFbnRyaWVzVmlldyBmcm9tICcuL2VudHJpZXMnXG5pbXBvcnQgQm9vdHN0cmFwTmF2QmFyVmlldyBmcm9tICcuL21haW4tdmlldydcblxuaWYgX191c2VDc3NNb2R1bGVzX19cbiAgcmVxdWlyZSBcIi4uLy4uL3Nhc3MvdGtuYXZiYXIuc2Nzc1wiXG5cbk1haW5DaGFubmVsID0gQmFja2JvbmUuUmFkaW8uY2hhbm5lbCAnZ2xvYmFsJ1xuTmF2YmFyQ2hhbm5lbCA9IEJhY2tib25lLlJhZGlvLmNoYW5uZWwgJ25hdmJhcidcbk1lc3NhZ2VDaGFubmVsID0gQmFja2JvbmUuUmFkaW8uY2hhbm5lbCAnbWVzc2FnZXMnXG5cbmNsYXNzIE5hdmJhckFwcCBleHRlbmRzIFRvb2xraXQuQXBwXG4gIGluaXRpYWxpemU6IChvcHRpb25zKSAtPlxuICAgIGFwcENvbmZpZyA9IEBnZXRPcHRpb24gJ2FwcENvbmZpZydcbiAgICBsYXlvdXQgPSBuZXcgQm9vdHN0cmFwTmF2QmFyVmlld1xuICAgICAgbW9kZWw6IG5ldyBCYWNrYm9uZS5Nb2RlbCBhcHBDb25maWdcbiAgICBAc2hvd1ZpZXcgbGF5b3V0XG4gICAgaWYgX19ERVZfX1xuICAgICAgQF9uYnZpZXcgPSBsYXlvdXRcblxuICBvblN0YXJ0OiAtPlxuICAgICMgRklYTUU6IEBnZXRWaWV3KCkgcmV0dXJucyByb290IGxheW91dCB2aWV3XG4gICAgY2ZnID0gTWFpbkNoYW5uZWwucmVxdWVzdCAnbWFpbjphcHA6Y29uZmlnJ1xuICAgIE5hdmJhckNoYW5uZWwucmVxdWVzdCAnY2xlYXItZW50cmllcycsICdzaXRlJ1xuICAgIE5hdmJhckNoYW5uZWwucmVxdWVzdCAnYWRkLWVudHJpZXMnLCBjZmcubmF2YmFyRW50cmllcywgJ3NpdGUnXG4gICAgXG5leHBvcnQgZGVmYXVsdCBOYXZiYXJBcHBcblxuXG4iXX0=
