var MainChannel, MessageChannel, NavbarApp;

import $ from 'jquery';

import Backbone from 'backbone';

import Marionette from 'backbone.marionette';

import Toolkit from 'marionette.toolkit';

import tc from 'teacup';

import './dbchannel';

import NavbarHeaderView from './navbar-header';

import NavbarEntriesView from './entries';

import BootstrapNavBarView from './main-view';

import "../../sass/tknavbar.scss";

MainChannel = Backbone.Radio.channel('global');

MessageChannel = Backbone.Radio.channel('messages');

NavbarApp = class NavbarApp extends Toolkit.App {
  onBeforeStart() {
    var appConfig, region, userMenuApp;
    appConfig = this.options.appConfig;
    region = this.options.parentApp.getView().getRegion('navbar');
    this.setRegion(region);
    if (appConfig.hasUser) {
      return userMenuApp = this.addChildApp('user-menu', {
        AppClass: appConfig.userMenuApp,
        startWithParent: true,
        appConfig: appConfig,
        parentApp: this
      });
    }
  }

  onStart() {
    // build main page layout
    return this.initPage();
  }

  initPage() {
    var appConfig, layout;
    appConfig = this.options.parentApp.options.appConfig;
    layout = new BootstrapNavBarView({
      model: new Backbone.Model(appConfig)
    });
    return this.showView(layout);
  }

};

export default NavbarApp;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGtuYXZiYXIvaW5kZXguanMiLCJzb3VyY2VzIjpbInRrbmF2YmFyL2luZGV4LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLFdBQUEsRUFBQSxjQUFBLEVBQUE7O0FBQUEsT0FBTyxDQUFQLE1BQUE7O0FBQ0EsT0FBTyxRQUFQLE1BQUE7O0FBQ0EsT0FBTyxVQUFQLE1BQUE7O0FBQ0EsT0FBTyxPQUFQLE1BQUE7O0FBQ0EsT0FBTyxFQUFQLE1BQUE7O0FBRUEsT0FBQTs7QUFDQSxPQUFPLGdCQUFQLE1BQUE7O0FBQ0EsT0FBTyxpQkFBUCxNQUFBOztBQUNBLE9BQU8sbUJBQVAsTUFBQTs7QUFDQSxPQUFBOztBQUVBLFdBQUEsR0FBYyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQWYsQ0FBdUIsUUFBdkI7O0FBQ2QsY0FBQSxHQUFpQixRQUFRLENBQUMsS0FBSyxDQUFDLE9BQWYsQ0FBdUIsVUFBdkI7O0FBRVgsWUFBTixNQUFBLFVBQUEsUUFBd0IsT0FBTyxDQUFDLElBQWhDO0VBQ0UsYUFBZSxDQUFBLENBQUE7QUFDYixRQUFBLFNBQUEsRUFBQSxNQUFBLEVBQUE7SUFBQSxTQUFBLEdBQVksSUFBQyxDQUFBLE9BQU8sQ0FBQztJQUNyQixNQUFBLEdBQVMsSUFBQyxDQUFBLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBbkIsQ0FBQSxDQUE0QixDQUFDLFNBQTdCLENBQXVDLFFBQXZDO0lBQ1QsSUFBQyxDQUFBLFNBQUQsQ0FBVyxNQUFYO0lBQ0EsSUFBRyxTQUFTLENBQUMsT0FBYjthQUNFLFdBQUEsR0FBYyxJQUFDLENBQUEsV0FBRCxDQUFhLFdBQWIsRUFDWjtRQUFBLFFBQUEsRUFBVSxTQUFTLENBQUMsV0FBcEI7UUFDQSxlQUFBLEVBQWlCLElBRGpCO1FBRUEsU0FBQSxFQUFXLFNBRlg7UUFJQSxTQUFBLEVBQVc7TUFKWCxDQURZLEVBRGhCOztFQUphOztFQVlmLE9BQVMsQ0FBQSxDQUFBLEVBQUE7O1dBRVAsSUFBQyxDQUFBLFFBQUQsQ0FBQTtFQUZPOztFQUlULFFBQVUsQ0FBQSxDQUFBO0FBQ1IsUUFBQSxTQUFBLEVBQUE7SUFBQSxTQUFBLEdBQVksSUFBQyxDQUFBLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDO0lBQ3ZDLE1BQUEsR0FBUyxJQUFJLG1CQUFKLENBQ1A7TUFBQSxLQUFBLEVBQU8sSUFBSSxRQUFRLENBQUMsS0FBYixDQUFtQixTQUFuQjtJQUFQLENBRE87V0FFVCxJQUFDLENBQUEsUUFBRCxDQUFVLE1BQVY7RUFKUTs7QUFqQlo7O0FBdUJBLE9BQUEsUUFBZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkIGZyb20gJ2pxdWVyeSdcbmltcG9ydCBCYWNrYm9uZSBmcm9tICdiYWNrYm9uZSdcbmltcG9ydCBNYXJpb25ldHRlIGZyb20gJ2JhY2tib25lLm1hcmlvbmV0dGUnXG5pbXBvcnQgVG9vbGtpdCBmcm9tICdtYXJpb25ldHRlLnRvb2xraXQnXG5pbXBvcnQgdGMgZnJvbSAndGVhY3VwJ1xuXG5pbXBvcnQgJy4vZGJjaGFubmVsJ1xuaW1wb3J0IE5hdmJhckhlYWRlclZpZXcgZnJvbSAnLi9uYXZiYXItaGVhZGVyJ1xuaW1wb3J0IE5hdmJhckVudHJpZXNWaWV3IGZyb20gJy4vZW50cmllcydcbmltcG9ydCBCb290c3RyYXBOYXZCYXJWaWV3IGZyb20gJy4vbWFpbi12aWV3J1xuaW1wb3J0IFwiLi4vLi4vc2Fzcy90a25hdmJhci5zY3NzXCJcblxuTWFpbkNoYW5uZWwgPSBCYWNrYm9uZS5SYWRpby5jaGFubmVsICdnbG9iYWwnXG5NZXNzYWdlQ2hhbm5lbCA9IEJhY2tib25lLlJhZGlvLmNoYW5uZWwgJ21lc3NhZ2VzJ1xuXG5jbGFzcyBOYXZiYXJBcHAgZXh0ZW5kcyBUb29sa2l0LkFwcFxuICBvbkJlZm9yZVN0YXJ0OiAtPlxuICAgIGFwcENvbmZpZyA9IEBvcHRpb25zLmFwcENvbmZpZ1xuICAgIHJlZ2lvbiA9IEBvcHRpb25zLnBhcmVudEFwcC5nZXRWaWV3KCkuZ2V0UmVnaW9uICduYXZiYXInXG4gICAgQHNldFJlZ2lvbiByZWdpb25cbiAgICBpZiBhcHBDb25maWcuaGFzVXNlclxuICAgICAgdXNlck1lbnVBcHAgPSBAYWRkQ2hpbGRBcHAgJ3VzZXItbWVudScsXG4gICAgICAgIEFwcENsYXNzOiBhcHBDb25maWcudXNlck1lbnVBcHBcbiAgICAgICAgc3RhcnRXaXRoUGFyZW50OiB0cnVlXG4gICAgICAgIGFwcENvbmZpZzogYXBwQ29uZmlnXG4gICAgICAgICxcbiAgICAgICAgcGFyZW50QXBwOiBAXG4gICAgICAgIFxuICBvblN0YXJ0OiAtPlxuICAgICMgYnVpbGQgbWFpbiBwYWdlIGxheW91dFxuICAgIEBpbml0UGFnZSgpXG5cbiAgaW5pdFBhZ2U6IC0+XG4gICAgYXBwQ29uZmlnID0gQG9wdGlvbnMucGFyZW50QXBwLm9wdGlvbnMuYXBwQ29uZmlnXG4gICAgbGF5b3V0ID0gbmV3IEJvb3RzdHJhcE5hdkJhclZpZXdcbiAgICAgIG1vZGVsOiBuZXcgQmFja2JvbmUuTW9kZWwgYXBwQ29uZmlnXG4gICAgQHNob3dWaWV3IGxheW91dFxuXG5leHBvcnQgZGVmYXVsdCBOYXZiYXJBcHBcblxuXG4iXX0=
