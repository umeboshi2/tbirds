var BaseController, ExtraController, MainChannel, MainController, NavbarChannel;

import $ from 'jquery';

import Backbone from 'backbone';

import Marionette from 'backbone.marionette';

import {
  ToolbarAppletLayout
} from './views/layout';

import navigate_to_url from './util/navigate-to-url';

import scroll_top_fast from './util/scroll-top-fast';

MainChannel = Backbone.Radio.channel('global');

NavbarChannel = Backbone.Radio.channel('navbar');

//class BaseController extends Marionette.Object
BaseController = Marionette.Object.extend({
  init_page: function() {},
  // do nothing
  scrollTop: scroll_top_fast,
  scroll_top: function() {
    console.warn("use scrollTop instead");
    return this.scrollTop(arguments);
  },
  navigateToUrl: navigate_to_url,
  navigate_to_url: function() {
    console.warn("use navigateToUrl instead");
    return this.navigateToUrl(arguments);
  }
});

//class MainController extends BaseController
MainController = BaseController.extend({
  layoutClass: ToolbarAppletLayout,
  _getAppletRegion: function() {
    var app;
    app = MainChannel.request('main:app:object');
    return app.getView().getRegion('applet');
  },
  setupLayout: function() {
    var layoutClass, region;
    layoutClass = this.getOption('layoutClass');
    this.layout = new layoutClass;
    region = this._getAppletRegion();
    if (region.hasView()) {
      region.empty();
    }
    this.applet.setupAppletEntries();
    region.show(this.layout);
  },
  
  // use this method to create a layout only if
  // needed, making routing within the applet
  // more efficient.
  setupLayoutIfNeeded: function() {
    var viewEntries;
    if (this.layout === void 0) {
      this.setupLayout();
    } else if (this.layout.isDestroyed()) {
      this.setupLayout();
    }
    viewEntries = NavbarChannel.request('get-entries', 'view');
    viewEntries.reset();
  },
  setup_layout_if_needed: function() {
    console.warn("use setupLayoutIfNeeded instead");
    this.setupLayoutIfNeeded();
  },
  _get_region: function(region) {
    console.warn("use _getRegion instead");
    return this._getRegion(region);
  },
  _show_view: function(vclass, model) {
    console.warn("use _showView instead");
    return this._showView(vclass, model);
  },
  _load_view: function(vclass, model, objname) {
    console.warn("use _loadView instead");
    return this._loadView(vclass, model, objname);
  },
  _getRegion: function(region) {
    return this.layout.getRegion(region);
  },
  _showView: function(vclass, model) {
    var view;
    view = new vclass({
      model: model
    });
    this.layout.showChildView('content', view);
  },
  _isModelPresent: function(model) {
    // FIXME
    // presume "id" is only attribute there if length is 1
    return model.isEmpty() || Object.keys(model.attributes).length === 1;
  },
  _loadView: function(vclass, model, objname) {
    var response;
    if (this._isModelPresent(model)) {
      response = model.fetch();
      response.done(() => {
        this._showView(vclass, model);
      });
      response.fail(function() {
        var msg;
        msg = `Failed to load ${objname} data.`;
        MessageChannel.request('danger', msg);
      });
    } else {
      this._showView(vclass, model);
    }
  }
});


//class ExtraController extends BaseController
ExtraController = BaseController.extend({
  channelName: function() {
    return this.getOption('channelName') || 'global';
  },
  initialize: function(options) {
    this.appletName = options.appletName;
    this.applet = MainChannel.request('main:applet:get-applet', this.appletName);
    this.mainController = this.applet.router.controller;
    this.channel = this.getChannel();
  },
  setup_layout_if_needed: function() {
    this.mainController.setup_layout_if_needed();
  },
  showChildView: function(region, view) {
    this.mainController.layout.showChildView(region, view);
  }
});

export {
  
  //module.exports =
  //  BaseController: BaseController
  //  MainController: MainController
  //  ExtraController: ExtraController
  BaseController,
  MainController,
  ExtraController
};

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlcnMuanMiLCJzb3VyY2VzIjpbImNvbnRyb2xsZXJzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLGNBQUEsRUFBQSxlQUFBLEVBQUEsV0FBQSxFQUFBLGNBQUEsRUFBQTs7QUFBQSxPQUFPLENBQVAsTUFBQTs7QUFDQSxPQUFPLFFBQVAsTUFBQTs7QUFDQSxPQUFPLFVBQVAsTUFBQTs7QUFFQSxPQUFBO0VBQVMsbUJBQVQ7Q0FBQSxNQUFBOztBQUVBLE9BQU8sZUFBUCxNQUFBOztBQUNBLE9BQU8sZUFBUCxNQUFBOztBQUVBLFdBQUEsR0FBYyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQWYsQ0FBdUIsUUFBdkI7O0FBQ2QsYUFBQSxHQUFnQixRQUFRLENBQUMsS0FBSyxDQUFDLE9BQWYsQ0FBdUIsUUFBdkIsRUFWaEI7OztBQWFBLGNBQUEsR0FBaUIsVUFBVSxDQUFDLE1BQU0sQ0FBQyxNQUFsQixDQUNmO0VBQUEsU0FBQSxFQUFXLFFBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FBWDs7RUFFQSxTQUFBLEVBQVcsZUFGWDtFQUdBLFVBQUEsRUFBWSxRQUFBLENBQUEsQ0FBQTtJQUNWLE9BQU8sQ0FBQyxJQUFSLENBQWEsdUJBQWI7V0FDQSxJQUFDLENBQUEsU0FBRCxDQUFXLFNBQVg7RUFGVSxDQUhaO0VBTUEsYUFBQSxFQUFlLGVBTmY7RUFPQSxlQUFBLEVBQWlCLFFBQUEsQ0FBQSxDQUFBO0lBQ2YsT0FBTyxDQUFDLElBQVIsQ0FBYSwyQkFBYjtXQUNBLElBQUMsQ0FBQSxhQUFELENBQWUsU0FBZjtFQUZlO0FBUGpCLENBRGUsRUFiakI7OztBQTBCQSxjQUFBLEdBQWlCLGNBQWMsQ0FBQyxNQUFmLENBQ2Y7RUFBQSxXQUFBLEVBQWEsbUJBQWI7RUFFQSxnQkFBQSxFQUFrQixRQUFBLENBQUEsQ0FBQTtBQUNoQixRQUFBO0lBQUEsR0FBQSxHQUFNLFdBQVcsQ0FBQyxPQUFaLENBQW9CLGlCQUFwQjtBQUNOLFdBQU8sR0FBRyxD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b3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknXG5pbXBvcnQgQmFja2JvbmUgZnJvbSAnYmFja2JvbmUnXG5pbXBvcnQgTWFyaW9uZXR0ZSBmcm9tICdiYWNrYm9uZS5tYXJpb25ldHRlJ1xuXG5pbXBvcnQgeyBUb29sYmFyQXBwbGV0TGF5b3V0IH0gZnJvbSAnLi92aWV3cy9sYXlvdXQnXG5cbmltcG9ydCBuYXZpZ2F0ZV90b191cmwgZnJvbSAnLi91dGlsL25hdmlnYXRlLXRvLXVybCdcbmltcG9ydCBzY3JvbGxfdG9wX2Zhc3QgZnJvbSAnLi91dGlsL3Njcm9sbC10b3AtZmFzdCdcblxuTWFpbkNoYW5uZWwgPSBCYWNrYm9uZS5SYWRpby5jaGFubmVsICdnbG9iYWwnXG5OYXZiYXJDaGFubmVsID0gQmFja2JvbmUuUmFkaW8uY2hhbm5lbCAnbmF2YmFyJ1xuXG4jY2xhc3MgQmFzZUNvbnRyb2xsZXIgZXh0ZW5kcyBNYXJpb25ldHRlLk9iamVjdFxuQmFzZUNvbnRyb2xsZXIgPSBNYXJpb25ldHRlLk9iamVjdC5leHRlbmRcbiAgaW5pdF9wYWdlOiAoKSAtPlxuICAgICMgZG8gbm90aGluZ1xuICBzY3JvbGxUb3A6IHNjcm9sbF90b3BfZmFzdFxuICBzY3JvbGxfdG9wOiAtPlxuICAgIGNvbnNvbGUud2FybiBcInVzZSBzY3JvbGxUb3AgaW5zdGVhZFwiXG4gICAgQHNjcm9sbFRvcCBhcmd1bWVudHNcbiAgbmF2aWdhdGVUb1VybDogbmF2aWdhdGVfdG9fdXJsXG4gIG5hdmlnYXRlX3RvX3VybDogLT5cbiAgICBjb25zb2xlLndhcm4gXCJ1c2UgbmF2aWdhdGVUb1VybCBpbnN0ZWFkXCJcbiAgICBAbmF2aWdhdGVUb1VybCBhcmd1bWVudHNcblxuI2NsYXNzIE1haW5Db250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXJcbk1haW5Db250cm9sbGVyID0gQmFzZUNvbnRyb2xsZXIuZXh0ZW5kXG4gIGxheW91dENsYXNzOiBUb29sYmFyQXBwbGV0TGF5b3V0XG5cbiAgX2dldEFwcGxldFJlZ2lvbjogLT5cbiAgICBhcHAgPSBNYWluQ2hhbm5lbC5yZXF1ZXN0ICdtYWluOmFwcDpvYmplY3QnXG4gICAgcmV0dXJuIGFwcC5nZXRWaWV3KCkuZ2V0UmVnaW9uICdhcHBsZXQnXG4gICAgXG4gIHNldHVwTGF5b3V0OiAtPlxuICAgIGxheW91dENsYXNzID0gQGdldE9wdGlvbiAnbGF5b3V0Q2xhc3MnXG4gICAgQGxheW91dCA9IG5ldyBsYXlvdXRDbGFzc1xuICAgIHJlZ2lvbiA9IEBfZ2V0QXBwbGV0UmVnaW9uKClcbiAgICBpZiByZWdpb24uaGFzVmlldygpXG4gICAgICByZWdpb24uZW1wdHkoKVxuICAgIEBhcHBsZXQuc2V0dXBBcHBsZXRFbnRyaWVzKClcbiAgICByZWdpb24uc2hvdyBAbGF5b3V0XG4gICAgcmV0dXJuXG4gICAgXG4gICMgdXNlIHRoaXMgbWV0aG9kIHRvIGNyZWF0ZSBhIGxheW91dCBvbmx5IGlmXG4gICMgbmVlZGVkLCBtYWtpbmcgcm91dGluZyB3aXRoaW4gdGhlIGFwcGxldFxuICAjIG1vcmUgZWZmaWNpZW50LlxuICBzZXR1cExheW91dElmTmVlZGVkOiAtPlxuICAgIGlmIEBsYXlvdXQgaXMgdW5kZWZpbmVkXG4gICAgICBAc2V0dXBMYXlvdXQoKVxuICAgIGVsc2UgaWYgQGxheW91dC5pc0Rlc3Ryb3llZCgpXG4gICAgICBAc2V0dXBMYXlvdXQoKVxuICAgIHZpZXdFbnRyaWVzID0gTmF2YmFyQ2hhbm5lbC5yZXF1ZXN0ICdnZXQtZW50cmllcycsICd2aWV3J1xuICAgIHZpZXdFbnRyaWVzLnJlc2V0KClcbiAgICByZXR1cm5cbiAgXG4gIHNldHVwX2xheW91dF9pZl9uZWVkZWQ6IC0+XG4gICAgY29uc29sZS53YXJuIFwidXNlIHNldHVwTGF5b3V0SWZOZWVkZWQgaW5zdGVhZFwiXG4gICAgQHNldHVwTGF5b3V0SWZOZWVkZWQoKVxuICAgIHJldHVyblxuICAgIFxuICBfZ2V0X3JlZ2lvbjogKHJlZ2lvbikgLT5cbiAgICBjb25zb2xlLndhcm4gXCJ1c2UgX2dldFJlZ2lvbiBpbnN0ZWFkXCJcbiAgICByZXR1cm4gQF9nZXRSZWdpb24ocmVnaW9uKVxuICAgIFxuICBfc2hvd192aWV3OiAodmNsYXNzLCBtb2RlbCkgLT5cbiAgICBjb25zb2xlLndhcm4gXCJ1c2UgX3Nob3dWaWV3IGluc3RlYWRcIlxuICAgIEBfc2hvd1ZpZXcodmNsYXNzLCBtb2RlbClcblxuICBfbG9hZF92aWV3OiAodmNsYXNzLCBtb2RlbCwgb2JqbmFtZSkgLT5cbiAgICBjb25zb2xlLndhcm4gXCJ1c2UgX2xvYWRWaWV3IGluc3RlYWRcIlxuICAgIEBfbG9hZFZpZXcodmNsYXNzLCBtb2RlbCwgb2JqbmFtZSlcblxuICBfZ2V0UmVnaW9uOiAocmVnaW9uKSAtPlxuICAgIHJldHVybiBAbGF5b3V0LmdldFJlZ2lvbiByZWdpb25cbiAgICBcbiAgX3Nob3dWaWV3OiAodmNsYXNzLCBtb2RlbCkgLT5cbiAgICB2aWV3ID0gbmV3IHZjbGFzc1xuICAgICAgbW9kZWw6IG1vZGVsXG4gICAgQGxheW91dC5zaG93Q2hpbGRWaWV3ICdjb250ZW50Jywgdmlld1xuICAgIHJldHVyblxuICAgIFxuICBfaXNNb2RlbFByZXNlbnQ6IChtb2RlbCkgLT5cbiAgICAjIEZJWE1FXG4gICAgIyBwcmVzdW1lIFwiaWRcIiBpcyBvbmx5IGF0dHJpYnV0ZSB0aGVyZSBpZiBsZW5ndGggaXMgMVxuICAgIHJldHVybiBtb2RlbC5pc0VtcHR5KCkgb3IgT2JqZWN0LmtleXMobW9kZWwuYXR0cmlidXRlcykubGVuZ3RoIGlzIDFcbiAgICBcbiAgX2xvYWRWaWV3OiAodmNsYXNzLCBtb2RlbCwgb2JqbmFtZSkgLT5cbiAgICBpZiBAX2lzTW9kZWxQcmVzZW50KG1vZGVsKVxuICAgICAgcmVzcG9uc2UgPSBtb2RlbC5mZXRjaCgpXG4gICAgICByZXNwb25zZS5kb25lID0+XG4gICAgICAgIEBfc2hvd1ZpZXcgdmNsYXNzLCBtb2RlbFxuICAgICAgICByZXR1cm5cbiAgICAgIHJlc3BvbnNlLmZhaWwgLT5cbiAgICAgICAgbXNnID0gXCJGYWlsZWQgdG8gbG9hZCAje29iam5hbWV9IGRhdGEuXCJcbiAgICAgICAgTWVzc2FnZUNoYW5uZWwucmVxdWVzdCAnZGFuZ2VyJywgbXNnXG4gICAgICAgIHJldHVyblxuICAgIGVsc2VcbiAgICAgIEBfc2hvd1ZpZXcgdmNsYXNzLCBtb2RlbFxuICAgIHJldHVyblxuICAgIFxuI2NsYXNzIEV4dHJhQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyXG5FeHRyYUNvbnRyb2xsZXIgPSBCYXNlQ29udHJvbGxlci5leHRlbmRcbiAgY2hhbm5lbE5hbWU6IC0+XG4gICAgcmV0dXJuIEBnZXRPcHRpb24oJ2NoYW5uZWxOYW1lJykgb3IgJ2dsb2JhbCdcbiAgaW5pdGlhbGl6ZTogKG9wdGlvbnMpIC0+XG4gICAgQGFwcGxldE5hbWUgPSBvcHRpb25zLmFwcGxldE5hbWVcbiAgICBAYXBwbGV0ID0gTWFpbkNoYW5uZWwucmVxdWVzdCAnbWFpbjphcHBsZXQ6Z2V0LWFwcGxldCcsIEBhcHBsZXROYW1lXG4gICAgQG1haW5Db250cm9sbGVyID0gQGFwcGxldC5yb3V0ZXIuY29udHJvbGxlclxuICAgIEBjaGFubmVsID0gQGdldENoYW5uZWwoKVxuICAgIHJldHVyblxuICBzZXR1cF9sYXlvdXRfaWZfbmVlZGVkOiAtPlxuICAgIEBtYWluQ29udHJvbGxlci5zZXR1cF9sYXlvdXRfaWZfbmVlZGVkKClcbiAgICByZXR1cm5cbiAgc2hvd0NoaWxkVmlldzogKHJlZ2lvbiwgdmlldykgLT5cbiAgICBAbWFpbkNvbnRyb2xsZXIubGF5b3V0LnNob3dDaGlsZFZpZXcgcmVnaW9uLCB2aWV3XG4gICAgcmV0dXJuXG4gICAgXG4jbW9kdWxlLmV4cG9ydHMgPVxuIyAgQmFzZUNvbnRyb2xsZXI6IEJhc2VDb250cm9sbGVyXG4jICBNYWluQ29udHJvbGxlcjogTWFpbkNvbnRyb2xsZXJcbiMgIEV4dHJhQ29udHJvbGxlcjogRXh0cmFDb250cm9sbGVyXG5cbmV4cG9ydCB7XG4gIEJhc2VDb250cm9sbGVyXG4gIE1haW5Db250cm9sbGVyXG4gIEV4dHJhQ29udHJvbGxlclxuICB9XG4gIFxuXG4iXX0=
